# 家計簿アプリ 開発ロードマップ
 
## 概要
 
このドキュメントは、家計簿アプリ「Money Tracker」の開発を効率的に進めるための実装順序とタスクリストを定義します。
各フェーズで品質を作り込みながら、最小限の工程で完成させます。
 
## 開発フェーズ
 
### フェーズ1: 基盤とコア機能（推定: 3-4日）
 
完成度の高い基盤と認証・データベースを一気に構築します。
 
#### 実装内容
- [x] **環境構築**
  - [x] パッケージインストール（Supabase, Clerk, shadcn/ui, react-hook-form, zod, lucide-react, date-fns）
  - [x] 環境変数設定（.env.local）
  - [x] Supabaseクラウドプロジェクト作成
  - [x] Clerkダッシュボード設定
 
- [x] **認証システム**
  - [x] ClerkProvider設定（layout.tsx）
  - [x] middleware.ts（認証保護）
  - [x] サインイン/サインアップページ（/sign-in, /sign-up）
  - [x] エラーハンドリング実装
 
- [x] **データベース設計**
  - [x] Supabaseテーブル作成（users, expenses, categories）
  - [x] RLSポリシー設定
  - [x] カテゴリマスタデータ投入
  - [x] 型定義ファイル作成
 
- [x] **共通コンポーネント**
  - [x] レイアウト（ヘッダー、ナビゲーション）
  - [x] UIコンポーネント（ボタン、フォーム、カード）
  - [x] エラーバウンダリー
  - [x] ローディング状態
 
### フェーズ2: 支出管理機能（推定: 2-3日）
 
品質を作り込んだ支出記録・管理機能を実装します。
 
#### 実装内容
- [x] **支出記録フォーム**
  - 金額入力（バリデーション付き）
  - カテゴリ選択（9種類固定）
  - 日付選択（デフォルト今日）
  - フォームバリデーション（zod）
  - 成功/エラートースト
  - リアルタイムフィードバック
 
- [x] **API Routes**
  - [x] POST /api/expenses（作成）
  - [x] GET /api/expenses（一覧取得）
  - [x] GET /api/categories（カテゴリ取得）
  - [x] PUT /api/expenses/[id]（更新）
  - [x] DELETE /api/expenses/[id]（削除）
  - [x] エラーハンドリング
  - [x] Clerk認証チェック
 
- [x] **支出一覧・管理**
  - [x] 支出履歴表示（日付降順）
  - [x] カテゴリアイコン付き表示
  - [x] 日本語日付フォーマット
  - [x] 編集・削除機能
  - [x] 確認ダイアログ
  - [x] オプティミスティックUI
  - [x] 空状態の表示
 
### フェーズ3: ダッシュボードと基本UI（推定: 2日）
 
使いやすいダッシュボードと洗練されたUIを実装します。
 
#### 実装内容
- [x] **ダッシュボードページ（/dashboard）**
  - [x] 支出記録フォーム配置
  - [x] 支出一覧表示（リアルタイム更新）
  - [x] レスポンシブデザイン（左側フォーム、右側一覧）
  - [x] 今週・今月の合計表示
  - [x] スケルトンローディング
 
- [x] **公開ページ**
  - [x] トップページ（機能説明、CTA）
  - [x] 料金ページ（プラン比較表）
  - [x] デザインシステム適用
  - [x] アニメーション実装
 
### フェーズ4: プレミアム機能（推定: 2-3日）
 
Clerk Billingとグラフ機能を実装します。
 
#### 実装内容
- [x] **Clerk Billing設定**
  - [x] PricingTableコンポーネント実装
  - [x] 料金ページに統合
  - [x] PlanProtectコンポーネント実装
  - [ ] Clerkダッシュボードでプラン作成（スラグ: premium）
  - [ ] Stripe連携設定
 
- [x] **プレミアム分析機能**
  - [x] Rechartsセットアップ
  - [x] 円グラフ（カテゴリ別割合）
  - [x] 棒グラフ（カテゴリ別金額）
  - [x] 期間切り替え（週次/月次）
  - [x] データ統計サマリー
  - [x] Protectコンポーネントで保護
 
- [x] **プレミアムUI**
  - [x] グラデーション背景
  - [x] プレミアムカードデザイン
  - [x] アップグレード促進UI
  - [x] 高級感のあるデザイン
 
### フェーズ5: デプロイ（推定: 1日）
 
本番環境にデプロイします。
 
#### 実装内容
- [ ] **本番デプロイ**
  - Vercelプロジェクト作成
  - 環境変数設定
  - Supabase本番環境設定
  - Clerk本番環境設定
  - デプロイと動作確認
 
## 実装のポイント
 
### 品質の作り込み
各フェーズで以下を徹底します：
- エラーハンドリング実装
- ローディング状態の表示
- レスポンシブデザイン対応
- アクセシビリティ考慮
- デザインシステムの適用
 
### 効率的な開発
- 関連する機能をまとめて実装
- 共通コンポーネントの早期作成
- 型定義の徹底
- 再利用可能なコードの作成
 
## 注意事項
 
- **Clerk Billing**: プランのスラグは必ず「premium」に設定
- **デザインシステム**: `.claude/design_system.md`を厳守
- **型安全性**: TypeScriptの型定義を徹底
- **git管理**: 各フェーズ完了時にコミット